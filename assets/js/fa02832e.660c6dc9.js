"use strict";(self.webpackChunkdevnotes=self.webpackChunkdevnotes||[]).push([[1382],{5492:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>i,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"databases/postgresql/postgresql-cheatsheet","title":"PostgreSQL Cheatsheet","description":"- command needed for daily use","source":"@site/docs/databases/postgresql/postgresql-cheatsheet.md","sourceDirName":"databases/postgresql","slug":"/databases/postgresql/postgresql-cheatsheet","permalink":"/DevNotes/docs/databases/postgresql/postgresql-cheatsheet","draft":false,"unlisted":false,"editUrl":"https://github.com/nitinawari/DevNotes/tree/main/docs/databases/postgresql/postgresql-cheatsheet.md","tags":[],"version":"current","frontMatter":{},"sidebar":"MyWikiSidebar","previous":{"title":"Databases","permalink":"/DevNotes/docs/category/databases"}}');var a=n(4848),r=n(8453);const i={},d="PostgreSQL Cheatsheet",c={},h=[{value:"1. Installation &amp; Setup",id:"1-installation--setup",level:2},{value:"On Ubuntu/Debian",id:"on-ubuntudebian",level:3},{value:"2.Start and Enable PostgreSQL Service",id:"2start-and-enable-postgresql-service",level:2},{value:"3.Switching to PostgreSQL User",id:"3switching-to-postgresql-user",level:2},{value:"4. basic command",id:"4-basic-command",level:2},{value:"In <code>linux</code> shell",id:"in-linux-shell",level:4},{value:"In <code>psql</code> shell",id:"in-psql-shell",level:4},{value:"5.Database &amp; Table Management",id:"5database--table-management",level:2},{value:"6. Data Manipulation",id:"6-data-manipulation",level:2},{value:"7. Query Filters &amp; Operators",id:"7-query-filters--operators",level:2},{value:"8. Data Manipulation",id:"8-data-manipulation",level:2},{value:"9. Aggregation &amp; Grouping",id:"9-aggregation--grouping",level:2},{value:"10. Joins",id:"10-joins",level:2},{value:"11. Indexes",id:"11-indexes",level:2},{value:"12. Transactions",id:"12-transactions",level:2},{value:"13. Miscellaneous",id:"13-miscellaneous",level:2}];function t(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"postgresql-cheatsheet",children:"PostgreSQL Cheatsheet"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"command needed for daily use"}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.em,{children:"15 august 2025"})}),"\n",(0,a.jsx)(s.h2,{id:"1-installation--setup",children:"1. Installation & Setup"}),"\n",(0,a.jsx)(s.h3,{id:"on-ubuntudebian",children:"On Ubuntu/Debian"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"sudo apt update\nsudo apt install postgresql postgresql-contrib\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"2start-and-enable-postgresql-service",children:"2.Start and Enable PostgreSQL Service"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"sudo systemctl enable postgresql  # enable first time \nsudo systemctl start postgresql   #start/stop\nsudo systemctl status postgresql  # check running status \n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"3switching-to-postgresql-user",children:"3.Switching to PostgreSQL User"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"PostgreSQL runs under a postgres system user:"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"sudo -i -u postgres\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Enter the PostgreSQL CLI:"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"psql\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"You should see:"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"postgres=#\n"})}),"\n",(0,a.jsx)(s.p,{children:"-Exit psql:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"\\q\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"4-basic-command",children:"4. basic command"}),"\n",(0,a.jsxs)(s.h4,{id:"in-linux-shell",children:["In ",(0,a.jsx)(s.code,{children:"linux"})," shell"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"psql -h host -U username -d dbname\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"-h"}),"  host \u2192 the server hostname or IP (use localhost if PostgreSQL is on your machine)"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"-U"})," username \u2192 PostgreSQL username"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"-d"})," dbname \u2192 database name you want to connect to"]}),"\n"]}),"\n",(0,a.jsxs)(s.h4,{id:"in-psql-shell",children:["In ",(0,a.jsx)(s.code,{children:"psql"})," shell"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"\\l            -- list databases\n\\c dbname     -- connect to a database\n\\dt           -- list tables\n\\d tablename  -- describe table structure\n\\du           -- list users/roles\n\\q            -- quit psql\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"5database--table-management",children:"5.Database & Table Management"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Create database"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"CREATE DATABASE mydb;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Drop database"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"DROP DATABASE mydb;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Create table"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"CREATE TABLE users (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(50),\n    email VARCHAR(100) UNIQUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Drop table"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"DROP TABLE users;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Add column"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"ALTER TABLE users ADD COLUMN age INT;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Remove column"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"ALTER TABLE users DROP COLUMN age;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Rename table"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"ALTER TABLE users RENAME TO app_users;\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"6-data-manipulation",children:"6. Data Manipulation"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Insert data"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"INSERT INTO users (name, email) VALUES ('Alice', 'alice@example.com');\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Update data"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"UPDATE users SET name = 'Bob' WHERE id = 1;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Delete data"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"DELETE FROM users WHERE id = 1;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Select data"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT * FROM users;\nSELECT name, email FROM users WHERE id = 2;\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"7-query-filters--operators",children:"7. Query Filters & Operators"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"WHERE clause"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT * FROM users WHERE age > 25;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"LIKE"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT * FROM users WHERE name LIKE 'A%';\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"IN"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT * FROM users WHERE id IN (1,2,3);\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"ORDER BY"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT * FROM users ORDER BY created_at DESC;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"LIMIT"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT * FROM users LIMIT 5;\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"8-data-manipulation",children:"8. Data Manipulation"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Insert data"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"INSERT INTO users (name, email) VALUES ('Alice', 'alice@example.com');\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Update data"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"UPDATE users SET name = 'Bob' WHERE id = 1;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Delete data"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"DELETE FROM users WHERE id = 1;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Select data"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT * FROM users;\nSELECT name, email FROM users WHERE id = 2;\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"9-aggregation--grouping",children:"9. Aggregation & Grouping"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Count rows"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT COUNT(*) FROM users;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Sum, Avg, Min, Max"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT AVG(age) FROM users;\nSELECT SUM(age) FROM users;\nSELECT MIN(age), MAX(age) FROM users;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Group by"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT age, COUNT(*) FROM users GROUP BY age;\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"10-joins",children:"10. Joins"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Inner join"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT users.name, orders.amount\nFROM users\nINNER JOIN orders ON users.id = orders.user_id;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Left join"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT users.name, orders.amount\nFROM users\nLEFT JOIN orders ON users.id = orders.user_id;\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"11-indexes",children:"11. Indexes"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Create an index"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"CREATE INDEX idx_users_name ON users(name);\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Drop an index"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"DROP INDEX idx_users_name;\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"12-transactions",children:"12. Transactions"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Start transaction"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"BEGIN;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Commit transaction"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"COMMIT;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Rollback transaction"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"ROLLBACK;\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"13-miscellaneous",children:"13. Miscellaneous"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Show current user"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT current_user;\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Show version"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"SELECT version();\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Describe table"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"\\d+ table_name\n"})}),"\n",(0,a.jsx)(s.hr,{})]})}function o(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>d});var l=n(6540);const a={},r=l.createContext(a);function i(e){const s=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),l.createElement(r.Provider,{value:s},e.children)}}}]);